[gd_scene load_steps=33 format=2]

[ext_resource path="res://Scenes/Nodes/Collisions.tscn" type="PackedScene" id=1]
[ext_resource path="res://Grafiikka/Kartta/karttapohja.png" type="Texture" id=3]
[ext_resource path="res://Scenes/Nodes/Lamp.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Nodes/Doors/DoorHorizontal.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Nodes/Doors/DoorVertical.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Nodes/Monster.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scripts/Objects/Lamps.gd" type="Script" id=9]
[ext_resource path="res://Scripts/Ai/Monsters.gd" type="Script" id=10]
[ext_resource path="res://Scenes/Nodes/Objects/eteise_poyta.tscn" type="PackedScene" id=11]
[ext_resource path="res://Scripts/Terrain.gd" type="Script" id=12]
[ext_resource path="res://Scenes/Nodes/Objects/EndBed.tscn" type="PackedScene" id=13]
[ext_resource path="res://Scenes/Nodes/Objects/ruokapoyta.tscn" type="PackedScene" id=14]
[ext_resource path="res://Scenes/Nodes/Objects/kellokaappi.tscn" type="PackedScene" id=15]
[ext_resource path="res://Grafiikka/Kartta/Huonekalut/sohva.png" type="Texture" id=16]
[ext_resource path="res://Scenes/Nodes/Objects/poyta.tscn" type="PackedScene" id=17]
[ext_resource path="res://Scenes/Nodes/Objects/kaappi1.tscn" type="PackedScene" id=18]
[ext_resource path="res://Scenes/Nodes/Objects/hella.tscn" type="PackedScene" id=19]
[ext_resource path="res://Scenes/Nodes/Objects/tiski.tscn" type="PackedScene" id=20]
[ext_resource path="res://Scenes/Nodes/Objects/leipapoyta.tscn" type="PackedScene" id=21]
[ext_resource path="res://Scenes/Nodes/Objects/apupoyta_pannu.tscn" type="PackedScene" id=22]
[ext_resource path="res://Grafiikka/Kartta/Huonekalut/matto.png" type="Texture" id=23]
[ext_resource path="res://Scenes/Nodes/Objects/laatikko2.tscn" type="PackedScene" id=24]
[ext_resource path="res://Scenes/Nodes/Objects/laatikko1.tscn" type="PackedScene" id=25]
[ext_resource path="res://Scenes/Nodes/Objects/arkku.tscn" type="PackedScene" id=26]
[ext_resource path="res://Scenes/Nodes/Objects/koysi.tscn" type="PackedScene" id=27]
[ext_resource path="res://Scenes/Nodes/Objects/lanttukasa.tscn" type="PackedScene" id=28]
[ext_resource path="res://Scenes/Nodes/Objects/perunasakki.tscn" type="PackedScene" id=29]
[ext_resource path="res://Scenes/Nodes/Message.tscn" type="PackedScene" id=30]
[ext_resource path="res://Scenes/Nodes/MessageTrigger.tscn" type="PackedScene" id=31]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 2560.4, -671.524, 2560.4, 5485.56, 2139.7, 4643.75, 2139.7, 2960.76, -541.243, 5497.87, -4.4766, 4643.75, -545.95, -683.838, 0.510023, -0.769447, 1840.52, 12.2769, 1845.5, 2947.72, 977.858, 1512.61, 987.831, 2934.67, 760.898, 2369.36, 760.898, 1021.48, 1504.14, 733.827, 1573.95, 2958.25, 1551.3, 2934.67, 155.091, 4421.96, 557.435, 3811.84, 904.336, 3455, 992.817, 3756.59, 1032.71, 4108.85, 1032.71, 4421.96, 155.091, 3352.16, 299.698, 3404.34, 443.629, 2369.36, 494.17, 2960.76, 304.684, 2856.39, 155.091, 2908.58, 139.824, 2081.47, 245.723, 2099.94, 1722.67, 3377.42, 1722.67, 4432.44, 1147.4, 4461.1, 1147.4, 4095.8, 1556.29, 3365.2, 1157.37, 3730.5, 1142.41, 3339.11, 1296.99, 3339.11, 1314.55, 2935.11, 1314.55, 1443.99, 1172.54, 759.92, 1172.33, 1029.9, 982.844, 1029.9, 985.551, 622.932, 826.987, 591.453, 1292, 2947.72, 437.347, 1021.48, 250.429, 1792.09, 149.237, 1761.3, 150.034, 418.786, 419.303, 405.739, 543.965, 405.739, 808.161, 400.583 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 2, 1, 4, 5 ), PoolIntArray( 5, 4, 6, 7 ), PoolIntArray( 7, 6, 0, 8 ), PoolIntArray( 8, 0, 3, 9 ), PoolIntArray( 10, 11, 12, 13 ), PoolIntArray( 14, 15, 16 ), PoolIntArray( 17, 18, 19, 20, 21, 22 ), PoolIntArray( 17, 23, 24, 18 ), PoolIntArray( 25, 12, 11, 26, 27 ), PoolIntArray( 27, 28, 29, 30, 25 ), PoolIntArray( 31, 32, 33, 34, 35 ), PoolIntArray( 36, 37, 38 ), PoolIntArray( 14, 16, 35, 39, 40 ), PoolIntArray( 41, 14, 40, 42 ), PoolIntArray( 42, 40, 10, 43 ), PoolIntArray( 44, 43, 10, 13, 45 ), PoolIntArray( 46, 39, 35, 38 ), PoolIntArray( 38, 35, 34, 36 ), PoolIntArray( 20, 36, 34, 21 ), PoolIntArray( 26, 18, 24, 27 ), PoolIntArray( 47, 25, 30, 48 ), PoolIntArray( 47, 48, 49, 50, 51, 52 ), PoolIntArray( 45, 13, 47, 52, 53 ) ]
outlines = [ PoolVector2Array( -545.95, -683.838, -541.243, 5497.87, 2560.4, 5485.56, 2560.4, -671.524 ), PoolVector2Array( -4.4766, 4643.75, 2139.7, 4643.75, 2139.7, 2960.76, 1845.5, 2947.72, 1840.52, 12.2769, 0.510023, -0.769447 ), PoolVector2Array( 1722.67, 3377.42, 1722.67, 4432.44, 1147.4, 4461.1, 1147.4, 4095.8, 1032.71, 4108.85, 1032.71, 4421.96, 155.091, 4421.96, 155.091, 3352.16, 299.698, 3404.34, 304.684, 2856.39, 155.091, 2908.58, 139.824, 2081.47, 245.723, 2099.94, 250.429, 1792.09, 149.237, 1761.3, 150.034, 418.786, 419.303, 405.739, 543.965, 405.739, 808.161, 400.583, 826.987, 591.453, 985.551, 622.932, 982.844, 1029.9, 1172.33, 1029.9, 1172.54, 759.92, 1504.14, 733.827, 1573.95, 2958.25, 1551.3, 2934.67, 1556.29, 3365.2 ), PoolVector2Array( 494.17, 2960.76, 557.435, 3811.84, 904.336, 3455, 992.817, 3756.59, 1157.37, 3730.5, 1142.41, 3339.11, 1296.99, 3339.11, 1292, 2947.72, 1314.55, 2935.11, 1314.55, 1443.99, 977.858, 1512.61, 987.831, 2934.67 ), PoolVector2Array( 437.347, 1021.48, 443.629, 2369.36, 760.898, 2369.36, 760.898, 1021.48 ) ]

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 200, 100 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 200, 200 )

[node name="Terrain" type="Node2D"]
position = Vector2( -5.99316, -11.9865 )
script = ExtResource( 12 )

[node name="kartta1" type="Sprite" parent="."]
position = Vector2( 907.324, 830.194 )
texture = ExtResource( 3 )

[node name="StartLocation" type="Node2D" parent="."]
position = Vector2( 208.542, 1345.43 )

[node name="DoorObjectHorizontal" parent="." instance=ExtResource( 6 )]
position = Vector2( 972.321, 463.424 )

[node name="Navigation2D" type="Navigation2D" parent="."]
visible = false
scale = Vector2( 1, 1.00295 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
scale = Vector2( 0.900407, 0.343131 )
z_index = 8
navpoly = SubResource( 1 )

[node name="Lamps" type="Node2D" parent="."]
script = ExtResource( 9 )

[node name="Lamp" parent="Lamps" instance=ExtResource( 4 )]
position = Vector2( 598.592, 431.849 )

[node name="Lamp3" parent="Lamps" instance=ExtResource( 4 )]
position = Vector2( 183.009, 661.316 )

[node name="EndBed" parent="." instance=ExtResource( 13 )]
position = Vector2( 1463.1, 215.381 )

[node name="Monsters" type="Node" parent="."]
script = ExtResource( 10 )

[node name="Monster" parent="Monsters" instance=ExtResource( 8 )]
position = Vector2( 869.412, 849.502 )
speed = 400
see_dist = 350
light_slowdown = 0.8

[node name="Monster2" parent="Monsters" instance=ExtResource( 8 )]
position = Vector2( 305.31, 655.518 )
speed = 300
light_slowdown = 0.8

[node name="matto" type="Sprite" parent="."]
position = Vector2( 523.13, 1353.19 )
texture = ExtResource( 23 )

[node name="sohva" type="Sprite" parent="."]
position = Vector2( 753.099, 1178.44 )
rotation = 0.0211086
texture = ExtResource( 16 )

[node name="ObjectWithCollision" parent="." instance=ExtResource( 11 )]
position = Vector2( 567.564, 1200.09 )

[node name="ObjectWithCollision2" parent="." instance=ExtResource( 14 )]
position = Vector2( 508.993, 606.736 )

[node name="ObjectWithCollision3" parent="." instance=ExtResource( 15 )]
position = Vector2( 813.337, 131.533 )

[node name="ObjectWithCollision4" parent="." instance=ExtResource( 17 )]
position = Vector2( 177.37, 664.178 )

[node name="ObjectWithCollision5" parent="." instance=ExtResource( 21 )]
position = Vector2( 1167.56, 177.966 )

[node name="ObjectWithCollision6" parent="." instance=ExtResource( 19 )]
position = Vector2( 1103.65, 564.778 )

[node name="ObjectWithCollision7" parent="." instance=ExtResource( 22 )]
position = Vector2( 1107.84, 695.958 )

[node name="ObjectWithCollision8" parent="." instance=ExtResource( 18 )]
position = Vector2( 1107.01, 897.773 )

[node name="ObjectWithCollision9" parent="." instance=ExtResource( 20 )]
position = Vector2( 1478.88, 688.44 )

[node name="ObjectWithCollision10" parent="." instance=ExtResource( 17 )]
position = Vector2( 1088.69, 1197.46 )

[node name="ObjectWithCollision11" parent="." instance=ExtResource( 25 )]
position = Vector2( 1766.94, 1313.36 )

[node name="ObjectWithCollision12" parent="." instance=ExtResource( 24 )]
position = Vector2( 1770.27, 1173.68 )

[node name="ObjectWithCollision13" parent="." instance=ExtResource( 26 )]
position = Vector2( 1628.41, 1187.94 )

[node name="ObjectWithCollision14" parent="." instance=ExtResource( 18 )]
position = Vector2( 1687.58, 1457.97 )
rotation = 1.5708

[node name="ObjectWithoutCollision" parent="." instance=ExtResource( 27 )]
position = Vector2( 1498.24, 1441.92 )

[node name="ObjectWithoutCollision2" parent="." instance=ExtResource( 28 )]
position = Vector2( 1371.25, 1467.32 )

[node name="ObjectWithCollision15" parent="." instance=ExtResource( 29 )]
position = Vector2( 1253.78, 1467.32 )

[node name="MessageTrigger" parent="." instance=ExtResource( 31 )]
position = Vector2( 317.999, 1328.29 )

[node name="Message" parent="MessageTrigger" instance=ExtResource( 30 )]
margin_left = -192.333
margin_top = -381.838
margin_right = 307.667
margin_bottom = -181.838
text = "They can't catch me behind a closed door."

[node name="CollisionShape2D" type="CollisionShape2D" parent="MessageTrigger"]
position = Vector2( 5.65686, -161.22 )
shape = SubResource( 2 )

[node name="MessageTrigger2" parent="." instance=ExtResource( 31 )]
position = Vector2( 1231.58, 426.018 )

[node name="Message" parent="MessageTrigger2" instance=ExtResource( 30 )]
margin_left = -261.76
margin_top = -270.077
margin_right = 38.2405
margin_bottom = -70.0769
text = "Press SPACE to open or close doors."

[node name="CollisionShape2D" type="CollisionShape2D" parent="MessageTrigger2"]
shape = SubResource( 3 )

[node name="TileMap" parent="." instance=ExtResource( 1 )]
visible = false
tile_data = PoolIntArray( 0, 1, 1, 1, 1, 196610, 2, 1, 196610, 3, 1, 196610, 4, 1, 196610, 5, 1, 196610, 6, 1, 196610, 7, 1, 2, 8, 1, 196610, 9, 1, 196610, 10, 1, 196610, 11, 1, 196610, 12, 1, 3, 65536, 1, 65536, 65543, 1, 65536, 65548, 1, 65536, 131072, 1, 65536, 131079, 1, 131072, 131084, 1, 65536, 196608, 1, 65536, 196620, 1, 65536, 262144, 1, 65536, 262151, 1, 0, 262156, 1, 65536, 327680, 1, 65536, 327687, 1, 65536, 327692, 1, 65536, 393216, 1, 65536, 393223, 1, 65536, 393228, 1, 65536, 458752, 1, 65536, 458759, 1, 65536, 458764, 1, 65536, 524288, 1, 65537, 524289, 1, 196611, 524291, 1, 196609, 524292, 1, 196610, 524293, 1, 196610, 524294, 1, 196610, 524295, 1, 65538, 524296, 1, 196611, 524299, 1, 196609, 524300, 1, 131074, 524301, 1, 196610, 524302, 1, 3, 589824, 1, 65536, 589831, 1, 131072, 589838, 1, 65536, 655360, 1, 65536, 655374, 1, 65536, 720896, 1, 65536, 720903, 1, 0, 720910, 1, 65536, 786432, 1, 131073, 786433, 1, 196610, 786434, 1, 196610, 786435, 1, 196610, 786436, 1, 196610, 786437, 1, 196610, 786438, 1, 196610, 786439, 1, 131074, 786440, 1, 196610, 786441, 1, 196610, 786442, 1, 196610, 786443, 1, 196610, 786444, 1, 196610, 786445, 1, 196610, 786446, 1, 131075 )

[node name="DoorObject" parent="." instance=ExtResource( 5 )]
position = Vector2( 340.402, 1089.84 )
