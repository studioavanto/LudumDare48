[gd_scene load_steps=34 format=2]

[ext_resource path="res://Grafiikka/Kartta/kartta4_VOL2_pohja.png" type="Texture" id=1]
[ext_resource path="res://Scenes/Nodes/Collisions.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Nodes/Lamp.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Nodes/Pickuppable-object.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Nodes/Monster.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Nodes/Objects/laatikko1.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Nodes/Objects/laatikko2.tscn" type="PackedScene" id=7]
[ext_resource path="res://Grafiikka/Kartta/Huonekalut/matto.png" type="Texture" id=8]
[ext_resource path="res://Scripts/Objects/Lamps.gd" type="Script" id=9]
[ext_resource path="res://Scripts/Ai/Monsters.gd" type="Script" id=10]
[ext_resource path="res://Grafiikka/Kartta/Huonekalut/matto2.png" type="Texture" id=11]
[ext_resource path="res://Scripts/Terrain.gd" type="Script" id=12]
[ext_resource path="res://Scenes/Nodes/Objects/EndBed.tscn" type="PackedScene" id=13]
[ext_resource path="res://Scenes/Nodes/Objects/jakkara2.tscn" type="PackedScene" id=14]
[ext_resource path="res://Grafiikka/Kartta/Huonekalut/sohva.png" type="Texture" id=15]
[ext_resource path="res://Scenes/Nodes/Objects/salonkipoyta_pullot.tscn" type="PackedScene" id=16]
[ext_resource path="res://Scenes/Nodes/Objects/kaappi.tscn" type="PackedScene" id=17]
[ext_resource path="res://Scenes/Nodes/Objects/jakkara.tscn" type="PackedScene" id=19]
[ext_resource path="res://Scenes/Nodes/Objects/leipapoyta.tscn" type="PackedScene" id=20]
[ext_resource path="res://Scenes/Nodes/Objects/kellokaappi.tscn" type="PackedScene" id=21]
[ext_resource path="res://Scenes/Nodes/Objects/apupoyta_pannu.tscn" type="PackedScene" id=22]
[ext_resource path="res://Scenes/Nodes/Objects/nojatuoli.tscn" type="PackedScene" id=23]
[ext_resource path="res://Grafiikka/Kartta/Huonekalut/viinipullot_2.png" type="Texture" id=24]
[ext_resource path="res://Scenes/Nodes/Objects/laatikosto.tscn" type="PackedScene" id=25]
[ext_resource path="res://Scenes/Nodes/Objects/kaappi1.tscn" type="PackedScene" id=26]
[ext_resource path="res://Scenes/Nodes/Objects/arkku.tscn" type="PackedScene" id=27]
[ext_resource path="res://Scenes/Nodes/Objects/perunasakki.tscn" type="PackedScene" id=28]
[ext_resource path="res://Scenes/Nodes/Objects/hella.tscn" type="PackedScene" id=29]
[ext_resource path="res://Grafiikka/Kartta/Ovet/oviaukko_kelt.png" type="Texture" id=30]
[ext_resource path="res://Scenes/Nodes/Doors/DoorVertical.tscn" type="PackedScene" id=31]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 2171.61, 886.804, 1895, 881.4, 1678.53, 870.432, 889.492, 517.373, 895.93, -127.87, 2165.27, -1765.55, 868.135, -1654.68, -2157.34, -1782.46, -1278.29, -1644.03, 558.452, -813.541, 569.131, -430.238, 388.792, -496.904, 388.446, -639.861, -103.629, -818.865, -109.662, -640.466, -249.511, -644.692, 104.988, -222.457, 766.687, -435.562, 751.295, -134.578, 554.628, -137.226, -745.34, -1449.63, 538.729, -1447.52, 528.135, -1248.92, -20.667, -1280.61, 100.112, -1111.6, -22.7859, -1109.48, 100.112, -1246.81, 1676.53, 965.153, 1897, 952.191, -568.153, -254.557, -567.214, -366.24, -260.921, -356.018, -103.629, -249.234, 2173, 947.206, 2173.74, 1775.32, -2140.39, 1766.87, -1427.39, 968.301, -1800.99, 983.881, 130.17, -370.797, 130.17, -500.669, 360.476, -496.904, -370.29, -1278.5, -365.257, -893.396, -906.378, -893.99, -927.567, -1050.33, -753.815, -1223.57, -2143.23, 986.702, -1792.5, 871.077, -1418.41, 878.768, -1278.29, -126.79, -1924.35, -116.142, -2144.69, 866.978, -1929.69, 501.402, 878.814, -132.113, -1052.58, -1052.44, -1052.58, -1215.12, -110.052, 1.58444, -111.78, 103.201, -940.28, 103.201, -712.316, -180.026, -726.269, -646.805, -895.783, -642.579, -887.308, -820.046, -285.167, -824.188, 557.802, 9.96803, 454.621, 17.8817, 176.938, 85.432, -15.2786, 80.1084, -25.9573, 0.253525, 100.922, -140.122, -957.926, -621.889, 319.692, 119.177, 101.854, -284.216, -281.295, -1280.61, -111.781, -1278.5, -38.6672, -146.829 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4, 5 ), PoolIntArray( 5, 4, 6 ), PoolIntArray( 7, 5, 6, 8 ), PoolIntArray( 9, 10, 11, 12 ), PoolIntArray( 13, 9, 12, 14, 15 ), PoolIntArray( 16, 10, 17, 18, 19 ), PoolIntArray( 20, 21, 22, 23 ), PoolIntArray( 24, 25, 23, 26 ), PoolIntArray( 27, 2, 1, 28 ), PoolIntArray( 29, 30, 31, 32 ), PoolIntArray( 14, 32, 31, 15 ), PoolIntArray( 28, 33, 34, 35, 27 ), PoolIntArray( 36, 27, 35, 37 ), PoolIntArray( 38, 39, 40 ), PoolIntArray( 41, 42, 43, 44, 45 ), PoolIntArray( 35, 46, 37 ), PoolIntArray( 36, 37, 47, 48 ), PoolIntArray( 8, 49, 50, 7 ), PoolIntArray( 51, 7, 50, 52 ), PoolIntArray( 47, 51, 52, 3 ), PoolIntArray( 48, 47, 3, 2 ), PoolIntArray( 4, 3, 53 ), PoolIntArray( 44, 54, 55, 45 ), PoolIntArray( 41, 45, 20 ), PoolIntArray( 56, 57, 58, 59 ), PoolIntArray( 60, 61, 62, 63, 13 ), PoolIntArray( 19, 64, 65 ), PoolIntArray( 66, 67, 68, 69, 19, 65 ), PoolIntArray( 59, 58, 70, 61, 60 ), PoolIntArray( 13, 15, 60 ), PoolIntArray( 65, 71, 66 ), PoolIntArray( 16, 72, 38, 40, 11, 10 ), PoolIntArray( 73, 41, 20 ), PoolIntArray( 22, 26, 23 ), PoolIntArray( 73, 20, 23, 74 ), PoolIntArray( 63, 73, 74, 13 ), PoolIntArray( 56, 59, 75, 68 ), PoolIntArray( 68, 75, 69 ), PoolIntArray( 19, 69, 16 ), PoolIntArray( 53, 19, 18 ), PoolIntArray( 4, 53, 18 ) ]
outlines = [ PoolVector2Array( -2157.34, -1782.46, -2144.69, 866.978, -1792.5, 871.077, -1800.99, 983.881, -2143.23, 986.702, -2140.39, 1766.87, 2173.74, 1775.32, 2173, 947.206, 1897, 952.191, 1895, 881.4, 2171.61, 886.804, 2165.27, -1765.55 ), PoolVector2Array( -712.316, -180.026, -38.6672, -146.829, 100.922, -140.122, 104.988, -222.457, 101.854, -284.216, 130.17, -370.797, 130.17, -500.669, 360.476, -496.904, 388.792, -496.904, 388.446, -639.861, -109.662, -640.466, -103.629, -249.234, -568.153, -254.557, -567.214, -366.24, -260.921, -356.018, -249.511, -644.692, -726.269, -646.805 ), PoolVector2Array( -745.34, -1449.63, 538.729, -1447.52, 528.135, -1248.92, 100.112, -1246.81, 100.112, -1111.6, -22.7859, -1109.48, -20.667, -1280.61, -111.781, -1278.5, -103.629, -818.865, 558.452, -813.541, 569.131, -430.238, 766.687, -435.562, 751.295, -134.578, 895.93, -127.87, 868.135, -1654.68, -1278.29, -1644.03, -1278.29, -126.79, -1924.35, -116.142, -1929.69, 501.402, 889.492, 517.373, 878.814, -132.113, 554.628, -137.226, 557.802, 9.96803, 454.621, 17.8817, 319.692, 119.177, 176.938, 85.432, -15.2786, 80.1084, -25.9573, 0.253525, -110.052, 1.58444, -111.78, 103.201, -940.28, 103.201, -957.926, -621.889, -895.783, -642.579, -887.308, -820.046, -285.167, -824.188, -281.295, -1280.61, -370.29, -1278.5, -365.257, -893.396, -906.378, -893.99, -927.567, -1050.33, -1052.58, -1052.44, -1052.58, -1215.12, -753.815, -1223.57 ), PoolVector2Array( -1418.41, 878.768, 1678.53, 870.432, 1676.53, 965.153, -1427.39, 968.301 ) ]

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 1524.5, 30 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 300, 30 )

[node name="Terrain" type="Node2D"]
position = Vector2( 84.7571, -52.9731 )
script = ExtResource( 12 )

[node name="TileMap" parent="." instance=ExtResource( 2 )]
visible = false
tile_data = PoolIntArray( -786442, 1, 8, -786441, 1, 10, -786440, 1, 10, -786439, 1, 10, -786438, 1, 10, -786437, 1, 10, -786436, 1, 10, -786435, 1, 10, -786434, 1, 10, -786433, 1, 10, -851968, 1, 10, -851967, 1, 10, -851966, 1, 10, -851965, 1, 10, -851964, 1, 10, -851963, 1, 10, -851962, 1, 11, -720906, 1, 65544, -720905, 1, 131078, -720904, 1, 196617, -720903, 1, 196617, -720902, 1, 196617, -720901, 1, 196617, -720900, 1, 196617, -720899, 1, 196617, -720898, 1, 196617, -720897, 1, 196617, -786432, 1, 196617, -786431, 1, 196617, -786430, 1, 196617, -786429, 1, 196617, -786428, 1, 196617, -786427, 1, 131077, -786426, 1, 131083, -655370, 1, 65544, -655369, 1, 131083, -720891, 1, 65544, -720890, 1, 131083, -589834, 1, 65544, -589833, 1, 131083, -589827, 1, 0, -589825, 1, 0, -655355, 1, 65544, -655354, 1, 131083, -524298, 1, 131076, -524297, 1, 196619, -524291, 1, 65536, -524289, 1, 65536, -589819, 1, 65544, -589818, 1, 131083, -458762, 1, 65536, -458755, 1, 65536, -458753, 1, 65536, -524283, 1, 65544, -524282, 1, 131083, -393226, 1, 65540, -393225, 1, 6, -393224, 1, 196610, -393223, 1, 196610, -393222, 1, 196610, -393221, 1, 196610, -393220, 1, 196610, -393219, 1, 131075, -393217, 1, 131073, -458752, 1, 196610, -458751, 1, 196610, -458750, 1, 196610, -458749, 1, 196610, -458748, 1, 5, -458747, 1, 65541, -458746, 1, 131083, -327690, 1, 65544, -327689, 1, 131083, -393212, 1, 65544, -393211, 1, 131081, -393210, 1, 131083, -262154, 1, 65544, -262153, 1, 65542, -262152, 1, 11, -262150, 1, 8, -262149, 1, 6, -262148, 1, 196610, -262147, 1, 196611, -262145, 1, 0, -327680, 0, 196609, -327679, 0, 196610, -327678, 0, 196611, -327676, 1, 65544, -327675, 1, 131081, -327674, 1, 131083, -196618, 1, 65544, -196617, 1, 131081, -196616, 1, 131083, -196614, 1, 65544, -196613, 1, 131083, -196609, 1, 65536, -262140, 1, 196616, -262139, 1, 196617, -262138, 1, 131079, -131082, 1, 65544, -131081, 1, 131081, -131080, 1, 131083, -131078, 1, 65544, -131077, 1, 131083, -131073, 1, 131072, -196602, 1, 65536, -65546, 1, 65544, -65545, 1, 131081, -65544, 1, 131083, -65542, 1, 196616, -65541, 1, 196614, -65540, 1, 196610, -65539, 1, 196610, -65538, 1, 196611, -131066, 1, 65536, -15, 1, 8, -14, 1, 10, -13, 1, 10, -12, 1, 10, -11, 1, 10, -10, 1, 65541, -9, 1, 131081, -8, 1, 131083, -65532, 1, 8, -65531, 1, 10, -65530, 1, 65543, 65521, 1, 65544, 65522, 1, 131081, 65523, 1, 131081, 65524, 1, 131081, 65525, 1, 131081, 65526, 1, 131081, 65527, 1, 131081, 65528, 1, 131083, 4, 1, 65544, 5, 1, 131081, 6, 1, 131083, 131057, 1, 65544, 131058, 1, 131081, 131059, 1, 131081, 131060, 1, 131081, 131061, 1, 131081, 131062, 1, 131081, 131063, 1, 131081, 131064, 1, 131083, 131071, 1, 0, 65540, 1, 65544, 65541, 1, 131081, 65542, 1, 131083, 196593, 1, 65544, 196594, 1, 131081, 196595, 1, 131081, 196596, 1, 131081, 196597, 1, 131081, 196598, 1, 131081, 196599, 1, 131081, 196600, 1, 65542, 196601, 1, 10, 196602, 1, 10, 196603, 1, 10, 196604, 1, 10, 196605, 1, 10, 196606, 1, 10, 196607, 1, 9, 131072, 1, 10, 131073, 1, 10, 131074, 1, 10, 131075, 1, 10, 131076, 1, 65541, 131077, 1, 131081, 131078, 1, 131083, 262129, 1, 196616, 262130, 1, 196617, 262131, 1, 196617, 262132, 1, 196617, 262133, 1, 196617, 262134, 1, 196617, 262135, 1, 196617, 262136, 1, 196617, 262137, 1, 196617, 262138, 1, 196617, 262139, 1, 196617, 262140, 1, 196617, 262141, 1, 196617, 262142, 1, 196617, 262143, 1, 196617, 196608, 1, 196617, 196609, 1, 196617, 196610, 1, 196617, 196611, 1, 196617, 196612, 1, 196617, 196613, 1, 196617, 196614, 1, 196619 )

[node name="kartta1" type="Sprite" parent="."]
texture = ExtResource( 1 )

[node name="StartLocation" type="Node2D" parent="."]
position = Vector2( 621.919, -249.793 )

[node name="Navigation2D" type="Navigation2D" parent="."]
scale = Vector2( 1, 1.00295 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
navpoly = SubResource( 1 )

[node name="Lamps" type="Node2D" parent="."]
script = ExtResource( 9 )

[node name="Lamp2" parent="Lamps" instance=ExtResource( 3 )]
position = Vector2( -981.905, -974.548 )

[node name="Lamp" parent="Lamps" instance=ExtResource( 3 )]
position = Vector2( -841.038, 185.738 )

[node name="EndBed" parent="." instance=ExtResource( 13 )]
position = Vector2( -889.556, -1318.24 )
rotation = -1.57189

[node name="Monsters" type="Node" parent="."]
script = ExtResource( 10 )

[node name="Monster" parent="Monsters" instance=ExtResource( 5 )]
position = Vector2( 239.055, -754.075 )
speed = 350
see_dist = 400
light_slowdown = 0.9

[node name="Monster2" parent="Monsters" instance=ExtResource( 5 )]
position = Vector2( 176.034, -1385.69 )
speed = 300
see_dist = 400
light_slowdown = 0.9

[node name="Monster3" parent="Monsters" instance=ExtResource( 5 )]
position = Vector2( -753.469, -221.345 )
speed = 300
see_dist = 400
light_slowdown = 0.9

[node name="extracollision" type="StaticBody2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="extracollision"]
position = Vector2( 109.463, 918.613 )
shape = SubResource( 2 )

[node name="extraextracollision" type="StaticBody2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="extraextracollision"]
position = Vector2( 2200.03, 920.419 )
shape = SubResource( 3 )

[node name="extraextracollision2" type="StaticBody2D" parent="."]
visible = false
position = Vector2( -4296.79, 4.48987 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="extraextracollision2"]
position = Vector2( 2200.03, 920.419 )
shape = SubResource( 3 )

[node name="Pickuppable-object5" parent="." instance=ExtResource( 4 )]
position = Vector2( -475.017, -299.225 )

[node name="ObjectWithCollision" parent="." instance=ExtResource( 6 )]
position = Vector2( -1918.65, 597.943 )

[node name="ObjectWithCollision2" parent="." instance=ExtResource( 7 )]
position = Vector2( -1961.13, 723.368 )

[node name="ObjectWithCollision3" parent="." instance=ExtResource( 7 )]
position = Vector2( -1828.27, 792.973 )
rotation = 0.2783

[node name="matto" type="Sprite" parent="."]
position = Vector2( -485.575, 13.5518 )
texture = ExtResource( 8 )

[node name="matto2" type="Sprite" parent="."]
modulate = Color( 0.635605, 0.75, 0.319336, 1 )
position = Vector2( 249.248, -100.757 )
rotation = -1.57223
texture = ExtResource( 11 )

[node name="ObjectWithCollision4" parent="." instance=ExtResource( 14 )]
position = Vector2( 74.1063, -995.973 )

[node name="viinipullot_2" type="Sprite" parent="."]
position = Vector2( 463.316, -1000.24 )
rotation = 3.135
texture = ExtResource( 24 )

[node name="sohva" type="Sprite" parent="."]
position = Vector2( 357.805, -982.278 )
rotation = 3.135
texture = ExtResource( 15 )

[node name="ObjectWithCollision5" parent="." instance=ExtResource( 16 )]
position = Vector2( 282.403, -1179.83 )

[node name="ObjectWithCollision6" parent="." instance=ExtResource( 17 )]
position = Vector2( 595.766, -1274.12 )
rotation = 1.5708

[node name="ObjectWithCollision7" parent="." instance=ExtResource( 6 )]
position = Vector2( -1011.74, -699.596 )
rotation = -0.244979

[node name="ObjectWithCollision8" parent="." instance=ExtResource( 21 )]
position = Vector2( 26.5447, -213.728 )
rotation = -1.57359
z_index = 7

[node name="ObjectWithCollision10" parent="." instance=ExtResource( 23 )]
position = Vector2( 449.723, 143.755 )
rotation = 0.227942

[node name="ObjectWithCollision11" parent="." instance=ExtResource( 23 )]
position = Vector2( 85.6691, 176.627 )
rotation = 0.897857

[node name="ObjectWithCollision12" parent="." instance=ExtResource( 19 )]
position = Vector2( 315.788, -475.061 )
rotation = -1.02911

[node name="ObjectWithCollision13" parent="." instance=ExtResource( 20 )]
position = Vector2( -263.804, 182.198 )
rotation = -3.13595

[node name="ObjectWithCollision14" parent="." instance=ExtResource( 22 )]
position = Vector2( -467.876, 181.504 )
rotation = -1.56666

[node name="ObjectWithCollision16" parent="." instance=ExtResource( 25 )]
position = Vector2( -841.679, 196.759 )

[node name="ObjectWithCollision15" parent="." instance=ExtResource( 29 )]
position = Vector2( -602.218, 181.398 )
rotation = -1.54376

[node name="ObjectWithCollision17" parent="." instance=ExtResource( 26 )]
position = Vector2( -416.188, -447.201 )
rotation = 1.58251

[node name="ObjectWithCollision18" parent="." instance=ExtResource( 27 )]
modulate = Color( 0.588235, 0.588235, 0.588235, 1 )
self_modulate = Color( 0.592157, 0.592157, 0.592157, 1 )
position = Vector2( -256.226, 557.669 )
rotation = -0.0567895

[node name="ObjectWithCollision19" parent="." instance=ExtResource( 27 )]
modulate = Color( 0.588235, 0.588235, 0.588235, 1 )
self_modulate = Color( 0.588235, 0.588235, 0.588235, 1 )
position = Vector2( -126.188, 557.7 )
rotation = -0.0264412

[node name="ObjectWithCollision20" parent="." instance=ExtResource( 28 )]
position = Vector2( -397.739, 586.167 )

[node name="ObjectWithCollision21" parent="." instance=ExtResource( 6 )]
position = Vector2( -1924.6, 788.676 )

[node name="ObjectWithCollision22" parent="." instance=ExtResource( 27 )]
position = Vector2( -983.022, -967.736 )
rotation = -1.63893

[node name="DoorObjectHorizontal2" parent="." instance=ExtResource( 31 )]
position = Vector2( -69.5196, -54.2228 )
texture = ExtResource( 30 )
offset = Vector2( 0, -50 )

[node name="DoorObjectHorizontal" parent="." instance=ExtResource( 31 )]
position = Vector2( -67.5702, -697.229 )
scale = Vector2( 1, 0.8 )
texture = ExtResource( 30 )
offset = Vector2( 0, -55 )

[node name="ObjectWithCollision9" parent="." instance=ExtResource( 17 )]
position = Vector2( 188.926, -384.196 )
rotation = -0.514708
